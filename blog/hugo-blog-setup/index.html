<!doctype html>
<html lang="cn">
  <head>
  <meta charset="utf-8">
<title>站点搭建手册 - 胜算有吾</title>
<meta name="description" content="用 HUGO 搭建一个 github.io 的站点 ">
<meta name="viewport" content="width=device-width, initial-scale=1">



  <meta name="generator" content="Hugo 0.56.3" />
  <meta itemprop="name" content="站点搭建手册">
<meta itemprop="description" content="用 HUGO 搭建一个 github.io 的站点 ">


<meta itemprop="datePublished" content="2019-08-14T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2019-08-14T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="507">



<meta itemprop="keywords" content="" />

  <meta property="og:title" content="站点搭建手册" />
<meta property="og:description" content="用 HUGO 搭建一个 github.io 的站点 " />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zhanggs.com/blog/hugo-blog-setup/" />
<meta property="article:published_time" content="2019-08-14T00:00:00+00:00" />
<meta property="article:modified_time" content="2019-08-14T00:00:00+00:00" />

  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="站点搭建手册"/>
<meta name="twitter:description" content="用 HUGO 搭建一个 github.io 的站点 "/>

  

  <link rel="stylesheet"
      href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/github.min.css">
  
    
      <link rel="stylesheet" href="/css/normalize.css">
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway:400,800,900|Source+Sans+Pro:400,700">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.1.0/css/flag-icon.min.css">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css">
      <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.9.0/css/all.css" integrity="sha384-i1LQnF23gykqWXg6jxC2ZbCbUMxyw5gLZY6UiUS98LYV5unm8GWmfkIS6jqJfb4E" crossorigin="anonymous">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.3.5/jquery.fancybox.min.css" />
      <link rel="stylesheet" href="/css/main.min.css">
      <link rel="stylesheet" href="/css/add-on.css">
    
  
  
  
  
  
</head>

  <body>
    
<header id="site-header">
  <nav id="site-nav">
    <h1 class="nav-title">
      <a href="/">
        
          
            blog
          
        
      </a>
    </h1>
    <menu id="site-nav-menu" class="flyout-menu">
      
        <a href="/" class="link"><i class="fas fa-home">&nbsp;</i>首页</a>
      
        <a href="/about/" class="link"><i class="far fa-id-card">&nbsp;</i>关于</a>
      
        <a href="/blog/" class="link"><i class="far fa-newspaper">&nbsp;</i>点滴记录</a>
      
        <a href="/categories/" class="link"><i class="fas fa-sitemap">&nbsp;</i>分类</a>
      
        <a href="/contact/" class="link"><i class="far fa-envelope">&nbsp;</i>联络</a>
      
      
      

    </menu>
    

    
    
    <a href="#site-nav" class="nav-toggle"><i class="fas fa-bars fa-2x"></i></a>
  </nav>
  
  
</header>

    <div id="wrapper">
      <section id="site-intro">
  <a href="/"><img src="/img/main/logo.jpg" class="circle" width="" alt="胜算有吾" /></a>
  <header>
    <h1>胜算有吾</h1>
  </header>
  <main>
    <p>慢慢人生路，乐在其中，享受 IT 生活</p>
  </main>
  
    <footer>
      <ul class="socnet-icons">
        

        <li><a href="//github.com/vicever" target="_blank" rel="noopener" title="GitHub" class="fab fa-github"></a></li>











<li><a href="//linkedin.com/in/example" target="_blank" rel="noopener" title="LinkedIn" class="fab fa-linkedin"></a></li>












<li><a href="//wpa.qq.com/msgrd?v=3&amp;uin=2810137672&amp;site=qq&amp;menu=yes" target="_blank" rel="noopener" title="QQ" class="fab fa-qq"></a></li>













<li><a href="mailto:vicever&amp;yeah.net" target="_blank" title="Email" class="far fa-envelope"></a></li>

      </ul>
    </footer>
  
</section>

      <main id="site-main">
        <article class="post">
  <header>
  <div class="title">
    
        <h2><a href="/blog/hugo-blog-setup/">站点搭建手册</a></h2>
    
    
        <p>用 HUGO 搭建一个 github.io 的站点 </p>
    
</div>
  <div class="meta">
    <time class="published" datetime="2019-08-14 00:00:00 &#43;0000 UTC">
      
    </time>
    <span class="author">vicever</span>
    
        <p>3 </p>
    
  </div>
</header>

  <section id="socnet-share">
    




  
    
    <a href="//twitter.com/share?text=%e7%ab%99%e7%82%b9%e6%90%ad%e5%bb%ba%e6%89%8b%e5%86%8c&amp;url=https%3a%2f%2fzhanggs.com%2fblog%2fhugo-blog-setup%2f" target="_blank" rel="noopener" class="share-btn twitter">
        <i class="fab fa-twitter"></i><p>&nbsp;Twitter</p>
      </a>
  

  
      <a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fzhanggs.com%2fblog%2fhugo-blog-setup%2f" target="_blank" rel="noopener" class="share-btn facebook">
        <i class="fab fa-facebook"></i><p>&nbsp;Facebook</p>
        </a>
  

  
    <a href="//www.reddit.com/submit?url=https%3a%2f%2fzhanggs.com%2fblog%2fhugo-blog-setup%2f&amp;title=%e7%ab%99%e7%82%b9%e6%90%ad%e5%bb%ba%e6%89%8b%e5%86%8c" target="_blank" rel="noopener" class="share-btn reddit">
          <i class="fab fa-reddit-alien"></i><p>&nbsp;Reddit</p>
        </a>
  

  
        <a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2fzhanggs.com%2fblog%2fhugo-blog-setup%2f&amp;title=%e7%ab%99%e7%82%b9%e6%90%ad%e5%bb%ba%e6%89%8b%e5%86%8c" target="_blank" rel="noopener" class="share-btn linkedin">
            <i class="fab fa-linkedin"></i><p>&nbsp;LinkedIn</p>
          </a>
  

  
        <a href="mailto:?subject=Check out this post by %7b%20%20%20%20%20%20%20%20map%5b%5d%7d&amp;body=https%3a%2f%2fzhanggs.com%2fblog%2fhugo-blog-setup%2f" target="_blank" class="share-btn email" data-proofer-ignore>
          <i class="fas fa-envelope"></i><p>&nbsp;Email</p>
        </a>
  


  </section>
  

  <div class="content">
    

<hr />

<h3 id="如何用-hugo-搭建个人站点-并挂载到-github-pages-上">如何用 HUGO 搭建个人站点，并挂载到 github pages 上</h3>

<p>会用到的资源链接：<br />
 <a href="https://gohugo.io">HUGO</a><br />
 <a href="https://themes.gohugo.io/hugo-future-imperfect-slim/">Themes:Hugo Future Imperfect Slim</a><br />
 <a href="https://pages.github.com/">github pags</a></p>

<h2 id="step-1-安装-hugo">Step 1. 安装 hugo</h2>

<p>在 mac 上，安装 hugo 很方便，直接用 Homebrew 就可以了。没有的自行搜索操作步骤。</p>

<pre><code>$brew install hugo
</code></pre>

<p>验证下安装是否成功</p>

<pre><code>$hugo version
Hugo Static Site Generator v0.56.3/extended darwin/amd64 BuildDate: unknown
</code></pre>

<h2 id="step-2-新建一个站点">Step 2. 新建一个站点</h2>

<p>来到自己的项目目录下，新建一个 hugo 的站点<br />
不需要自行新建目录，new site 的时候会新增一个目录</p>

<pre><code>$hugo new site myblog  
Congratulations! Your new Hugo site is created in /Users/Document/myblog.

Just a few more steps and you're ready to go:

1. Download a theme into the same-named folder.
   Choose a theme from https://themes.gohugo.io/ or
   create your own with the &quot;hugo new theme &lt;THEMENAME&gt;&quot; command.
2. Perhaps you want to add some content. You can add single files
   with &quot;hugo new &lt;SECTIONNAME&gt;/&lt;FILENAME&gt;.&lt;FORMAT&gt;&quot;.
3. Start the built-in live server via &quot;hugo server&quot;.

</code></pre>

<p>可以试试能不能跑起来</p>

<pre><code>$hugo server

Building sites … WARN 2019/08/14 16:05:48 found no layout file for &quot;HTML&quot; for &quot;home&quot;: You should create a template file which matches Hugo Layouts Lookup Rules for this combination.
WARN 2019/08/14 16:05:48 found no layout file for &quot;HTML&quot; for &quot;taxonomyTerm&quot;: You should create a template file which matches Hugo Layouts Lookup Rules for this combination.
WARN 2019/08/14 16:05:48 found no layout file for &quot;HTML&quot; for &quot;taxonomyTerm&quot;: You should create a template file which matches Hugo Layouts Lookup Rules for this combination.

                   | EN
+------------------+----+
  Pages            |  3
  Paginator pages  |  0
  Non-page files   |  0
  Static files     |  0
  Processed images |  0
  Aliases          |  0
  Sitemaps         |  1
  Cleaned          |  0

Total in 7 ms
Watching for changes in /Users/zhangguangsheng/Documents/sourcecode/tmp/temp/{archetypes,content,data,layouts,static}
Watching for config changes in /Users/zhangguangsheng/Documents/sourcecode/tmp/temp/config.toml
Environment: &quot;development&quot;
Serving pages from memory
Running in Fast Render Mode. For full rebuilds on change: hugo server --disableFastRender
Web Server is available at http://localhost:1313/ (bind address 127.0.0.1)
Press Ctrl+C to stop
</code></pre>

<p>打开连接看看 <a href="http://localhost:1313/">http://localhost:1313/</a></p>

<p>hugo就这点不好，它的默认配置是啥也没有的，只有个简单的空页面，都需要自行配置的。看到个大白页面也不用着急，正常现象。</p>

<h2 id="step-3-加载一个主题">Step 3. 加载一个主题</h2>

<p>不能就这么大白板放着啊，加个主题吧！<br />
可以去它的主题站点去找一个<a href="https://themes.gohugo.io/">https://themes.gohugo.io/</a>，还是有不少能看的。我看上了<a href="https://themes.gohugo.io/hugo-future-imperfect-slim/">Hugo Future Imperfect Slim</a>
下载到本地先</p>

<pre><code>$mkdir themes // Creates a Themes Folder
$cd themes		 // Points to the Themes Folder
$git clone https://github.com/pacollins/hugo-future-imperfect-slim.git
</code></pre>

<p>这个时候如果直接去 <code>hugo server</code>一下，你会发现页面乱套了，淡定！！！<br />
现在需要把配置文件给配上，如果简单点的话，直接上 copy 大法，把 主题下examplesite 的内容都复制到站点目录里面。</p>

<pre><code>$cp -R themes/hugo-future-imperfect-slim/exampleSite/ ./
$hugo server
</code></pre>

<p>这下在看下 <a href="http://localhost:1313/">http://localhost:1313/</a>， 干得漂亮。</p>

<p>然后就需要根据自己的需要，改 config.toml 的内容。以及 content 里面的文章内容（都删了，一会儿自己写）</p>

<h2 id="step-4-提交到-github-io上">Step 4. 提交到 github.io上</h2>

<p>需要在 github 上建立两个项目，一个用来放这个站点的源代码，包括各种配置、主题、资源等，就是 hugo 建的这个。还有一个项目是github pages 的项目，这个就是站点的静态资源信息。
如何建个普通项目就不说了，到处都是，找一个就行。特别注意建立的 github pages 的项目，项目名称必须是&lt;用户名&gt;.github.io，项目地址是：<a href="https://github.com/">https://github.com/</a>&lt;用户名&gt;/&lt;用户名&gt;.github.io，而后就能通过 http://&lt;用户名&gt;.github.io 的地址来访问。</p>

<h4 id="提交项目源码">提交项目源码</h4>

<p>举例：项目源代码的项目目录为 myblog，github用户名为 hugo</p>

<pre><code class="language-shell">$cd myblog
$git init
$git add .
$git remote add origin https://github.com/hugo/myblog.git
$git commit -m&quot;xxxxx&quot;
$git push origin master
</code></pre>

<p>现在到<a href="https://github.com/hugo/myblog">https://github.com/hugo/myblog</a> 看看代码提交情况。</p>

<h4 id="提交-pages-站点代码">提交 pages 站点代码</h4>

<p>public 目录里面保存的都是最终站点需要展示的静态文件。之前一顿折腾总是留下些乱七八糟的东西，斩断重来吧！！</p>

<pre><code class="language-shell">$rm -rf public
$git submodule add -b master https://github.com/hugo/hugo.github.io.git public
</code></pre>

<p>然后就要提交内容了，鉴于每次提交一下流程都要操作一次，所以可以写成脚本。<br />
新建一个<code>deploy.sh</code>的文件，并把它设为可执行<code>$chmod +x deploy.sh</code>。然后我们编辑这个文件成下面这样。</p>

<pre><code class="language-shell">#!/bin/sh

# If a command fails then the deploy stops
set -e

printf &quot;\033[0;32mDeploying updates to GitHub...\033[0m\n&quot;

# Build the project.
hugo # if using a theme, replace with `hugo -t &lt;YOURTHEME&gt;`

# Go To Public folder
cd public

# Add changes to git.
git add .

# Commit changes.
msg=&quot;rebuilding site $(date)&quot;
if [ -n &quot;$*&quot; ]; then
	msg=&quot;$*&quot;
fi
git commit -m &quot;$msg&quot;

# Push source and build repos.
git push origin master

</code></pre>

<p>然后就可以执行<code>./deploy.sh &quot;你的提交注释&quot;</code>，一顿操作猛如虎，然后等一会可以上<a href="https://hugo.github.io">https://hugo.github.io</a>看站点了。</p>

<h2 id="step-5-绑定自己的域名">Step 5. 绑定自己的域名</h2>

<p>虽然 github.io 的站点和域名是免费的，但是不够个性，站点养不起，域名还是可以买一个的。怎么买就不在这里介绍了。
现在假如你已经有了自己的域名hugo.io，需要做两件事：</p>

<h4 id="1-让这个域名指向-github-io">1. 让这个域名指向 github.io</h4>

<p>具体操作可以看 github 的<a href="https://help.github.com/cn/articles/quick-start-setting-up-a-custom-domain">官方说明</a></p>

<h4 id="2-让这个站点知道自己叫这个并响应">2. 让这个站点知道自己叫这个并响应</h4>

<p>在<code>public</code>目录中新建一个文本文件，取名为<code>CNAME</code>，这个文件的内容就一个，你的域名，比如<code>hugo.io</code>。完全按照这个格式来，别的都不用。
有了这个站点就知道原来自己就是<code>hugo.io</code>了。</p>

<h2 id="step-6-写一个文章并发布试试">Step 6. 写一个文章并发布试试</h2>

<p>为了保证格式的有效性，最好以现有的内容为模板进行修改，包括很多的配置要求，都沿用 examplesite 里面的内容。</p>

<pre><code class="language-shell">$hugo new blog/my-first-blog.md
</code></pre>

<p>然后用文本编辑工具编辑这个 md 文件就行了，它是遵循的 markdown 的文件格式。</p>

<p>完成编辑之后，运行发布脚本<code>./deploy.sh</code></p>

<p><strong>ENJOY IT</strong></p>

  </div>
  <footer>
    <ul class="stats">
  
    
    
      <li class="categories">
        <ul>
          
            
            <li><a class="article-category-link" href="https://zhanggs.com/categories/hugo">hugo</a></li>
          
        </ul>
      </li>
    
  
  
    <li class="tags">
      <ul>
        <li>None</li>
      </ul>
    </li>
  
</ul>

  </footer>
</article>
<article class="post">
  

</article>
<div class="pagination">
  
    <a href="/blog/examples/" class="button big previous"><i class="fas fa-angle-left"></i> Markdown and Shortcodes</a>
  
  
</div>


      </main>
      <section id="site-sidebar">
  
    <section id="recent-posts">
      <header>
        <h1></h1>
      </header>
      
      <article class="mini-post">
        <section>
          

        </section>
        <header>
          <h1><a href="/blog/hugo-blog-setup/">站点搭建手册</a></h1>
          <time class="published" datetime=""></time>
        </header>
      </article>
      
      <article class="mini-post">
        <section>
          

        </section>
        <header>
          <h1><a href="/blog/examples/">Markdown and Shortcodes</a></h1>
          <time class="published" datetime=""></time>
        </header>
      </article>
      
      <article class="mini-post">
        <section>
          
<a href="/blog/creating-a-new-theme/" class="image featured">
  <img src="/img/2014/09/pic03.jpg" alt="Pic 3">
</a>


        </section>
        <header>
          <h1><a href="/blog/creating-a-new-theme/">Creating a New Theme</a></h1>
          <time class="published" datetime=""></time>
        </header>
      </article>
      
      <article class="mini-post">
        <section>
          
<a href="/blog/creating-a-new-theme.br/" class="image featured">
  <img src="/img/2014/09/pic03.jpg" alt="Pic 3">
</a>


        </section>
        <header>
          <h1><a href="/blog/creating-a-new-theme.br/">Criando um novo tema</a></h1>
          <time class="published" datetime=""></time>
        </header>
      </article>
      
      <article class="mini-post">
        <section>
          
<a href="/blog/creating-a-new-theme.fr/" class="image featured">
  <img src="/img/2014/09/pic03.jpg" alt="Pic 3">
</a>


        </section>
        <header>
          <h1><a href="/blog/creating-a-new-theme.fr/">Créer un nouveau thème</a></h1>
          <time class="published" datetime=""></time>
        </header>
      </article>
      
      
        <a href="/blog/" class="button"></a>
      
    </section>
  

  
    
      <section id="categories">
        <header>
          <h1><a href="/categories"></a></h1>
        </header>
        <ul>
          
            
          
          
          <li>
            
              <a href="/categories/hugo/">hugo<span class="count">11</span></a>
            
          
          <li>
            
              <a href="/categories/go/">go<span class="count">3</span></a>
            
          
          <li>
            
              <a href="/categories/jekyll/">jekyll<span class="count">3</span></a>
            
          
          <li>
            
              <a href="/categories/markdown/">markdown<span class="count">1</span></a>
            
          
          </li>
        </ul>
      </section>
    
  

  <section id="mini-bio">
    <header>
      <h1></h1>
    </header>
    <p>test</p>
    <footer>
      <a href="/about" class="button"></a>
    </footer>
  </section>
</section>

      <footer id="site-footer">
  
      <ul class="socnet-icons">
        

        <li><a href="//github.com/vicever" target="_blank" rel="noopener" title="GitHub" class="fab fa-github"></a></li>











<li><a href="//linkedin.com/in/example" target="_blank" rel="noopener" title="LinkedIn" class="fab fa-linkedin"></a></li>












<li><a href="//wpa.qq.com/msgrd?v=3&amp;uin=2810137672&amp;site=qq&amp;menu=yes" target="_blank" rel="noopener" title="QQ" class="fab fa-qq"></a></li>













<li><a href="mailto:vicever&amp;yeah.net" target="_blank" title="Email" class="far fa-envelope"></a></li>

      </ul>
  
  <p class="copyright">
    
      &copy; 2019
      
        胜算有吾
      
    .
    Powered by <a href="//gohugo.io" target="_blank" rel="noopener">Hugo</a>
  </p>
</footer>
<a id="back-to-top" href="#" class="fas fa-arrow-up fa-2x"></a>

      
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/html.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/css.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/js.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/toml.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>


  
  <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/skel/3.0.1/skel.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.3.5/jquery.fancybox.min.js"></script>
  <script src=/js/util.js></script>
  <script src=/js/main.js></script>
  <script src=/js/add-on.js></script>
  



    </div>
  </body>
</html>
